<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/how_to_team_engine.md at 2025-01-23
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>How to Deploy to TEAM Engine – OGC CDB 1.0 Executable Conformance Test Suite</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.1.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="http://cite.opengeospatial.org/"><img class="class java.lang.Object" src="img/ogc-logo.png" /> OGC CDB 1.0 Executable Conformance Test Suite</a></h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-01-23<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.2</li>
        <li class="pull-right"><a href="https://github.com/opengeospatial/ets-cdb10/issues" class="externalLink">Issues</a></li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Getting Started</li>
    <li><a href="index.html">Overview</a></li>
    <li><a href="changelog.html">Release Notes</a></li>
    <li><a href="how_to_eclipse.html">Running with Eclipse IDE</a></li>
    <li class="active"><a>Running with TEAM Engine</a></li>
    <li><a href="how_to_jar.html">Running with JAR Tool</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="How_to_Deploy_to_TEAM_Engine"></a>
<h1>How to Deploy to TEAM Engine</h1>
<p><a href="https://github.com/opengeospatial/teamengine" class="externalLink">TEAM Engine</a> is a Java web application for running OGC conformance tests with a web interface. It supports the installation of multiple test suites, and stores the results of past test runs. It can also be ran from the command line, although you may want to run the tests using the test suite command line JAR interface instead.</p>
<p>OGC provides an online version of TEAM Engine for public use, however this is not useful for CDB users as the CDB cannot be uploaded over HTTP due to either security/privacy concerns or requiring too much bandwidth. Instead, a local installation of TEAM Engine can be installed that can test CDBs located on the same machine or network.</p><section><a id="Installing_TEAM_Engine"></a>
<h2>Installing TEAM Engine</h2>
<p>There is an <a href="https://github.com/opengeospatial/teamengine/blob/master/doc/en/index.rst" class="externalLink">installation guide</a> which works if you follow the steps and versions exactly. It covers instructions for Windows and Linux/UNIX users.</p>
<p>If you want to use a newer version of Apache Tomcat, you <strong>must</strong> use an updated version of the <code>context.xml</code> for Tomcat webapps; I <a href="https://gist.github.com/openfirmware/6cea747d445ff29d9e2c5597c6cbdef8" class="externalLink">have one that I have tested to work</a>.</p>
<p>If you want the short version of the TEAM Engine installation guide:</p>
<ol style="list-style-type: decimal;">

<li>Install Oracle JDK 8</li>
<li>Install Apache Tomcat 7 or newer (see note above about context.xml)</li>
<li>Create a base directory for Team Engine, and set the <code>TE_BASE</code> Java property for Tomcat to point to that directory</li>
<li>(Optional) Install Tomcat native and Apache Portable Runtime if you want to support newest versions of TLS and HTTP/2</li>
<li>Checkout TEAM Engine from GitHub</li>
<li>Install latest Apache Maven</li>
<li>Use Maven to compile TEAM Engine</li>
<li>Extract TEAM Engine console base archive and TEAM Engine console binaries to <code>TE_BASE</code></li>
<li>Checkout <a href="https://github.com/opengeospatial/ets-resources" class="externalLink">ETS Resources</a> from GitHub</li>
<li>Use Maven to compile ETS Resources</li>
<li>Extract ETS Resources binaries/libraries to <code>TE_BASE</code></li>
<li>Use Maven to create WAR file for TEAM Engine</li>
<li>Install TEAM Engine WAR file in Tomcat</li>
<li>Install TEAM Engine common libraries to Tomcat library directory</li>
<li>(Optional) Install replacement Tomcat context.xml for TEAM Engine</li>
</ol>
<p>Tomcat should be up and running on port 8080, and TEAM Engine should be accessible under the <code>/teamengine</code> path. If you have any issues, check the Tomcat log files (usually in the <code>logs/catalina.out</code> file) for errors and warnings.</p></section><section><a id="Install_ETS-CDB10"></a>
<h2>Install ETS-CDB10</h2>
<p>By default TEAM Engine will include a sample test suite, but we need to install the CDB test suite. Use git to checkout the repository from GitHub:</p>

<pre class="prettyprint"><code class="language-sh">$ git clone https://github.com/opengeospatial/ets-cdb10.git
</code></pre>
<p>Then use maven to build the package:</p>

<pre class="prettyprint"><code class="language-sh">$ cd ets-cdb10
$ mvn install
</code></pre>
<p>Extract the TEAM Engine CTL scripts from <code>target/ets-cdb10-0.5-SNAPSHOT-ctl.zip</code> into the <code>TE_BASE/scripts/</code> directory. The scripts directory should look like this:</p>

<pre><code class="nohighlight nocode">scripts/
  cdb10
  note
</code></pre>
<p>Next install the CDB10 ETS dependencies from <code>target/ets-cdb10-0.5-SNAPSHOT-deps.zip</code> by unpackaging <code>ets-cdb10-0.5-SNAPSHOT-deps.zip</code> and then copying all of the jar files to the <code>/WEB-INF/lib</code> folder of teamengine webapp.</p>
<p>It is possible a duplicate SLF4J library is installed into TEAM Engine. If the file <code>TE_BASE/lib/slf4j-log4j12-1.7.6.jar</code> exists, delete it. If you do not then TEAM Engine will not start.</p>
<p>Now we need to create a <code>config.xml</code> file for TEAM Engine to read the new test suite. Create the file <code>TE_BASE/config.xml</code> with the following contents:</p>

<pre class="prettyprint"><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;config&gt;
    &lt;scripts&gt;
        &lt;organization&gt;
            &lt;name&gt;OGC&lt;/name&gt;
            &lt;standard&gt;
                &lt;name&gt;Test suite: ets-cdb10&lt;/name&gt;
                &lt;version&gt;
                    &lt;name&gt;1.0&lt;/name&gt;
                    &lt;suite&gt;
                        &lt;namespace-uri&gt;http://www.opengis.net/cite/cdb10&lt;/namespace-uri&gt;
                        &lt;prefix&gt;tns&lt;/prefix&gt;
                        &lt;local-name&gt;ets-cdb10-0.5-SNAPSHOT&lt;/local-name&gt;
                        &lt;title&gt;Test suite ets-cdb10&lt;/title&gt;
                        &lt;description&gt;Describe scope of testing.&lt;/description&gt;
                    &lt;/suite&gt;
                    &lt;revision&gt;
                        &lt;name&gt;0.5-SNAPSHOT&lt;/name&gt;
                        &lt;status&gt;Beta&lt;/status&gt;
                        &lt;sources&gt;
                            &lt;source&gt;cdb10/1.0/ctl&lt;/source&gt;
                        &lt;/sources&gt;
                        &lt;webdir&gt;cdb10/1.0/site&lt;/webdir&gt;
                    &lt;/revision&gt;
                &lt;/version&gt;
            &lt;/standard&gt;
        &lt;/organization&gt;
    &lt;/scripts&gt;
&lt;/config&gt;
</code></pre>
<p>(If you have other test suites you want to enable, then they also need to be included in this XML file by placing them as an additional <code>/config/scripts/organisation/standard</code> element i.e. there should be only one organisation in the script)</p>
<p>Next make sure Tomcat has read access to <code>TE_BASE</code>. On Linux/UNIX you can make <code>TE_BASE</code> readable by all users.</p>

<pre class="prettyprint"><code class="language-sh">$ sudo chmod -R +r TE_BASE
</code></pre>
<p>Now reload Tomcat and TEAM Engine should include ETS CDB10 as a test suite.</p>
<p><img src="img/team-engine-with-ets-cdb10.png" alt="TEAM Engine with ETS CDB10 Support" /></p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2025
<a href="https://www.ogc.org/">Open Geospatial Consortium</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>