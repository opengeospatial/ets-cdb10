<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2020-11-24 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20201124" />
    <meta http-equiv="Content-Language" content="en" />
    <title>OGC CDB 1.0 Executable Conformance Test Suite &#x2013; How to Deploy to Eclipse IDE</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://cite.opengeospatial.org/" id="bannerLeft">
                                                                                                <img src="./img/ogc-logo.png"  alt="OGC CDB 1.0 Executable Conformance Test Suite"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2020-11-24
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.5
                      </li>
                      
                
                    
      
                                    
    <li class="pull-right">
                      <a href="https://github.com/opengeospatial/ets-cdb10/issues" class="externalLink" title="Issues">
        Issues</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Getting Started</li>
                              
      <li>
  
                          <a href="index.html" title="Overview">
          <span class="none"></span>
        Overview</a>
            </li>
                
      <li>
  
                          <a href="changelog.html" title="Release Notes">
          <span class="none"></span>
        Release Notes</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Running with Eclipse IDE</a>
          </li>
                
      <li>
  
                          <a href="how_to_team_engine.html" title="Running with TEAM Engine">
          <span class="none"></span>
        Running with TEAM Engine</a>
            </li>
                
      <li>
  
                          <a href="how_to_jar.html" title="Running with JAR Tool">
          <span class="none"></span>
        Running with JAR Tool</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                  
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                  
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>How to Deploy to Eclipse IDE</h1>
<p><a class="externalLink" href="https://www.eclipse.org/ide/">Eclipse</a> is an Integrated Development Environment for building applications and tools. It can be used to run the ETS CDB 1.0 test suite as well as develop and extend the test suite.</p>
<p>This short guide will get you set up with Eclipse and the ETS CDB 1.0 repository for Desktop development. You will be able to run TestNG tests, JUnit tests, and modify the test suites.</p>
<div class="section">
<h2><a name="Download_and_Install_Eclipse"></a>Download and Install Eclipse</h2>
<p>Eclipse is available for Windows, MacOS, and Linux. If you do not already have it, download the latest version of the IDE from their website. The latest version as of this guide is &#x201c;Photon&#x201d;.</p>
<p>When you run Eclipse, it may prompt you to create or select a workspace. If it asks, then create a new folder for storing your Eclipse projects. This will include the ETS CDB 1.0 in a moment.</p>
<p>We will start by installing the TestNG plugin. To install, goto the &#x201c;Help&#x201d; menu and select &#x201c;Install new software&#x201d;. In the window, select the &#x201c;Add&#x201d; button and create a new entry for &#x201c;TestNG&#x201d; with the URL <tt>http://beust.com/eclipse</tt>. Save the new repository, and back in the &#x201c;Install new software&#x201d; window select the &#x201c;filter&#x201d; field and type <tt>testng</tt>. After a few seconds, some results will be shown and you will only need to select the &#x201c;TestNG&#x201d; and &#x201c;TestNG M2E Integration&#x201d; packages, and install them. Eclipse will prompt you to restart the application after installing, go ahead and do that.</p></div>
<div class="section">
<h2><a name="Import_ETS_CDB_1.0"></a>Import ETS CDB 1.0</h2>
<p><i>Note: Previous instructions used the Maven Eclipse Git connector to handle the import. This does not seem to work with Eclipse Photon in Jan 2019, so the following procedure is used instead.</i></p>
<p>Go to the <a class="externalLink" href="https://github.com/opengeospatial/ets-cdb10">ETS CDB 1.0 repository</a> and click the green &#x201c;Clone or download&#x201d; button and select &#x201c;Download ZIP&#x201d;. Once downloaded, extract the ZIP to its own folder.</p>
<p>From the &#x201c;File&#x201d; menu, select &#x201c;Import&#x201d;. Under the &#x201c;Maven&#x201d; folder, select the &#x201c;Existing Maven Projects&#x201d; item. In the next window, select your Downloads directory as your &#x201c;Root Directory&#x201d; (or the directory containing the ETS CDB 1.0 you extracted). In the &#x201c;Projects&#x201d; list a new entry should automatically appear; select it and click the &#x201c;Finish&#x201d; button.</p>
<p>In the main Eclipse window, close the &#x201c;Welcome&#x201d; tab and the Package Explorer in the left pane will now contain &#x201c;ets-cdb10&#x201d;.</p>
<p><img src="img/eclipse-run-as.png" alt="Maven Install in Eclipse" /></p>
<p>Try using Maven to build the project dependencies by right-clicking (or control-clicking) the project and going down to &#x201c;Run As&#x201d; and selecting &#x201c;Maven Install&#x201d;. The Eclipse Console should automatically open and show the Maven install progress, which should complete in under a minute.</p>
<div class="section">
<h3><a name="Maven_Error_Messages"></a>Maven Error Messages</h3>
<p>If there are error messages in the console, you may have to change the Java version used by Eclipse. Select the <tt>ets-cdb10</tt> project in the Package Explorer list, and go to the &#x201c;Project&#x201d; menu and select &#x201c;Properties&#x201d;.</p>
<p>In the new window, select &#x201c;Java Build Path&#x201d;, then the &#x201c;Libraries&#x201d; tab. Select &#x201c;JRE System Library&#x201d; and click &#x201c;Edit&#x2026;&#x201d;. Select &#x201c;Alternate JRE&#x201d;, and in the list be sure to select one of the following:</p>

<ul>
  
<li>Java 8 (1.8.0)</li>
  
<li>Java 10 (10.0)</li>
</ul>
<p>Ideally, they are JDK installations and not JRE installations. You can download the JDK for free from <a class="externalLink" href="https://www.oracle.com/technetwork/java/javase/downloads/index-jsp-138363.html#javasejdk">Oracle</a> or from <a class="externalLink" href="https://jdk.java.net/10/">OpenJDK</a>. Once installed, they can be added to Eclipse by going to the same window and selecting &#x201c;Installed JREs&#x2026;&#x201d; and in the &#x201c;Preferences (filtered)&#x201d; window selecting &#x201c;Search&#x2026;&#x201d; and selecting your Java installation directory.</p>
<p>Note that I have tested the ETS with OpenJDK 11 and it <b>does not</b> work yet.</p></div></div>
<div class="section">
<h2><a name="Run_TestNG_on_included_CDB"></a>Run TestNG on included CDB</h2>
<p>A sample CDB is included in the test suite for verifying the test methods. You can try running TestNG with Eclipse. From the &#x201c;Run&#x201d; menu, select &#x201c;Run Configurations&#x201d;. In the left pane, a list of run and test types is listed. Right-click (or control-click) TestNG and select &#x201c;New&#x201d;. In the configuration window, name it &#x201c;CDB10 TestNG&#x201d;. Select the &#x201c;Suite&#x201d; radio button and click &#x201c;Browse&#x201d; to select a TestNG XML configuration file at <tt>src/main/resources/org/opengis/cite/cdb10/testng.xml</tt>. Leave the other tabs and settings at their default values. Click Apply to save the configuration, and then select &#x201c;Run&#x201d; to try TestNG.</p>
<p>A TestNG window may pop up with the results. If no results window is shown, goto the &#x201c;Window&#x201d; menu, &#x201c;Show View&#x201d;, then &#x201c;Other&#x201d;. In the pop-up window select &#x201c;TestNG&#x201d;.</p>
<p>The results will show some failures, as the sample CDB included with the test suite contains some &#x201c;dummy&#x201d; directories that do not pass the conformance tests.</p></div>
<div class="section">
<h2><a name="Run_TestNG_on_a_custom_CDB"></a>Run TestNG on a custom CDB</h2>
<p>If you have your own CDB that you would like to test with the test suite in Eclipse, you will need to create a new <tt>testng.xml</tt> file with the following contents:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;
&lt;suite name=&quot;ets-cdb10&quot; verbose=&quot;0&quot; configfailurepolicy=&quot;continue&quot;&gt;
  &lt;parameter name=&quot;iut&quot;  value=&quot;path/to/CDB&quot; /&gt;
  &lt;parameter name=&quot;ics&quot;  value=&quot;1,2&quot; /&gt;

  &lt;listeners&gt;
    &lt;listener class-name=&quot;org.opengis.cite.cdb10.TestRunListener&quot; /&gt;
    &lt;listener class-name=&quot;org.opengis.cite.cdb10.SuiteFixtureListener&quot; /&gt;
    &lt;listener class-name=&quot;org.opengis.cite.cdb10.TestFailureListener&quot; /&gt;
  &lt;/listeners&gt;

  &lt;test name=&quot;CDB Structure&quot;&gt;
    &lt;packages&gt;
      &lt;package name=&quot;org.opengis.cite.cdb10.cdbStructure&quot; /&gt;
      &lt;package name=&quot;org.opengis.cite.cdb10.cdbStructure.GSModel&quot; /&gt;
    &lt;/packages&gt;
  &lt;/test&gt;
  &lt;test name=&quot;Metadata And Versioning&quot;&gt;
    &lt;packages&gt;
      &lt;package name=&quot;org.opengis.cite.cdb10.metadataAndVersioning&quot; /&gt;
    &lt;/packages&gt;
  &lt;/test&gt;
&lt;/suite&gt;

</pre></div></div>
<p>Change the <tt>iut</tt> to point to the directory of your CDB. The <tt>ics</tt> is &#x201c;1&#x201d; for conformance level 1, &#x201c;2&#x201d; for conformance level 2, and &#x201c;1,2&#x201d; for both conformance levels. Save the file anywhere, it does not need to be in the repository.</p>
<p>In Eclipse, open the Run Configuration window again and create a new TestNG configuration. For the Suite, select &#x201c;Browse&#x201d; and then &#x201c;File System&#x201d;, and choose the <tt>testng.xml</tt> file you created. (It can actually be named anything you want, as long as its an XML file.)</p>
<p>The test results will then be shown in the TestNG results window. From here you can see which test methods passed and which methods failed, as well as jump to the test suite code to see how the failure was generated.</p>
<p><img src="img/eclipse-testng.png" alt="TestNG tests in Eclipse" /></p></div>
<div class="section">
<h2><a name="Run_JUnit_Tests"></a>Run JUnit Tests</h2>
<p>This test suite contains JUnit tests for verifying the TestNG test methods. It may seem <i>odd</i> to test a test, but it is much easier to develop and verify a test method if you have a framework for setting up different test cases. JUnit does this by letting you set up a failure scenario and making sure the TestNG method correctly fails that scenario.</p>
<p>The JUnit tests are the same tests than Maven will run when compiling or packaging. You can run the JUnit tests inside Eclipse by selecting the project, going to the &#x201c;Run&#x201d; menu, to &#x201c;Run As&#x201d; and selecting &#x201c;JUnit Test&#x201d;. You can open a JUnit results window similar to the TestNG results window, if you want to filter the passed/failed tests.</p>
<p><img src="img/eclipse-junit.png" alt="JUnit tests in Eclipse" /></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2020
                        <a href="http://www.opengeospatial.org/">Open Geospatial Consortium</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
                </div>
    </footer>
        </body>
</html>